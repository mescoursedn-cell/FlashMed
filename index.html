        function saveGlobalSettings() {
            const name = document.getElementById('settingName').value.trim();
            const alias = document.getElementById('settingAlias').value.trim();
            
            if (name) localStorage.setItem('flashmed_userName', name);
            if (alias) localStorage.setItem('flashmed_userAlias', alias); else localStorage.removeItem('flashmed_userAlias');
            localStorage.setItem('flashmed_userAvatar', userAvatar);
            
            userName = name;
            userAlias = alias || "Docteur";

            const date = document.getElementById('settingDate').value;
            if (date) {
                localStorage.setItem('flashmed_examDate', date);
                updateCountdownDisplay(date);
            }

            const key = document.getElementById('settingKey').value.trim();
            if (key) {
                localStorage.setItem('flashmed_apiKey', key);
                userApiKey = key;
            }
	    const soundEnabled = document.getElementById('settingSoundToggle').checked;
            audioSystem.enabled = soundEnabled;
            localStorage.setItem('flashmed_sound_enabled', soundEnabled);

            updateGreetingDisplay();

            const dinoIcon = document.getElementById('dinoIcon');
            dinoIcon.className = `fa-solid ${userAvatar} text-6xl text-gray-500 transition-colors duration-300`;

            showToast("Configuration enregistr√©e !", "success");
            closeGlobalSettings();
        }

